<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>ƒêi·ªÉm danh h√¥m nay</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <body>
    <main class="page">
      <header class="page-header">
        <div
          class="page-header-top"
          style="
            display: flex;
            align-items: center;
            justify-content: space-between;
          "
        >
          <h1 class="page-title">
            <span class="icon">üìã</span>
            ƒêi·ªÉm danh h√¥m nay
          </h1>

          <!-- Avatar dropdown -->
          <div class="avatar-dropdown" style="position: relative">
            <!-- Avatar circle -->
            <div class="avatar-circle-dropdown" onclick="toggleDropdown()">
              <%= user && user.fullName ? user.fullName[0].toUpperCase() : '?'
              %>
            </div>

            <!-- Dropdown menu -->
            <div id="dropdown-menu" class="dropdown-menu">
              <a href="/profile" class="dropdown-item">Profile</a>
              <form action="/auth/logout" method="POST" style="margin: 0">
                <button type="submit" class="dropdown-item">Logout</button>
              </form>
            </div>
          </div>
        </div>

        <p class="page-subtitle">
          Theo d√µi nhanh t√¨nh tr·∫°ng ƒëi·ªÉm danh c·ªßa c√°c l·ªõp h·ªçc trong ng√†y.
        </p>
      </header>
      <script>
        function toggleDropdown() {
          const menu = document.getElementById("dropdown-menu");
          if (menu.style.display === "flex") {
            menu.style.display = "none";
          } else {
            menu.style.display = "flex";
          }
        }

        // T·ª± ƒë·ªông ƒë√≥ng dropdown khi click ra ngo√†i
        document.addEventListener("click", function (event) {
          const dropdown = document.querySelector(".avatar-dropdown");
          const menu = document.getElementById("dropdown-menu");
          if (!dropdown.contains(event.target)) {
            menu.style.display = "none";
          }
        });
      </script>

      <section>
        <div class="class-list">
          <!-- Card l·ªõp 1 -->
          <article class="class-card">
            <div class="class-header">
              <div>
                <div class="class-name">L·ªõp 12A1 - To√°n</div>
              </div>
              <div class="class-tag">ƒêang di·ªÖn ra</div>
            </div>
            <div class="class-meta">
              <span>‚è∞ 07:00 - 07:45</span>
              <span>üìç Ph√≤ng: 301</span>
            </div>
            <div class="class-footer">
              <div class="status-text">
                <span class="dot"></span>
                <span><strong>2/2</strong> c√≥ m·∫∑t</span>
              </div>
              <a class="btn-detail" href="/camera/class">
                Xem chi ti·∫øt
                <span class="arrow">‚Ä∫</span>
              </a>
            </div>
          </article>

          <!-- Card l·ªõp 2 -->
          <article class="class-card">
            <div class="class-header">
              <div>
                <div class="class-name">L·ªõp 12A2 - VƒÉn</div>
              </div>
              <div
                class="class-tag"
                style="
                  background: #f9fafb;
                  border-color: #e5e7eb;
                  color: #4b5563;
                "
              >
                Ch∆∞a b·∫Øt ƒë·∫ßu
              </div>
            </div>
            <div class="class-meta">
              <span>‚è∞ 08:00 - 08:45</span>
              <span>üìç Ph√≤ng: 302</span>
            </div>
            <div class="class-footer">
              <div class="status-text">
                <span class="dot" style="background: #9ca3af"></span>
                <span><strong>0/2</strong> ƒë√£ ƒëi·ªÉm danh</span>
              </div>
              <a class="btn-detail" href="/camera/class">
                Xem chi ti·∫øt
                <span class="arrow">‚Ä∫</span>
              </a>
            </div>
          </article>

          <!-- C√≥ th·ªÉ th√™m c√°c card kh√°c ·ªü ƒë√¢y -->
        </div>
      </section>
    </main>
  </body>
</html>
